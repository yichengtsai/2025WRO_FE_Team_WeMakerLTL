# Testing
## 測試流程
#### 1. 硬體檢查與模組連接測試

- 逐一檢查馬達驅動板、伺服馬達、感測器（LiDAR、IMU、攝影機）連接狀況。

- 使用簡單測試程式確認每個模組能正確回傳數據或動作。

#### 2. 感測器數據校正

- 使用固定距離與已知角度的環境，測試 LiDAR 與 IMU 的量測精度，並記錄偏差值。

- 校正攝影機白平衡與 HSV 顏色範圍，確保在不同光照下辨識一致性。

#### 3. 基礎行駛測試

- 在開放空間內測試直線行駛與原地旋轉，檢查速度控制與角度精準度。

- 驗證 PWM 速度曲線與實際車速的對應關係。

#### 4. 功能整合測試

- 將感測器輸入與馬達控制結合，測試車輛在偵測到牆或積木時的反應時間與避障路徑。

#### 5. 完整場地模擬測試

- 在模擬比賽場地進行多次繞圈與避障測試，檢查系統在長時間運行下的穩定性與精度。

## 遇到的困難與解決方式
| 困難             | 描述                     | 解決方式                                |
| -------------- | ---------------------- | ----------------------------------- |
| **光達量測偏移**     | 車輛轉向時，光達的距離數據因角度造成投影誤差 | 引入 IMU 角度補償公式（cos 修正 + 微調係數）還原垂直距離  |
| **顏色辨識受光照影響**  | HSV 範圍在不同燈光下會導致辨識錯誤    | 在程式中增加多組顏色範圍，根據光照亮度動態切換             |
| **伺服馬達轉角不一致**  | 長時間使用後，伺服轉角有累積偏差       | 啟動時加入中立位置校正，並限制最大轉角避免卡死             |
| **電壓不穩導致系統重啟** | 18650 電池供電不足時樹莓派重啟     | 改用 LiPo 3S 11.1V 電池 + 降壓模組，提供更穩定的電壓 |
| **影像處理延遲**     | 即時影像處理造成運算瓶頸           | 降低解析度與處理頻率，或在特定情況才啟用影像辨識            |

